<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Main</title>
    <script src="../build/elm.js"></script>
    <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  </head>
  <body>
    <div id="elm"></div>
    <script>
      var app = Elm.Main.init({ node: document.getElementById("elm") });
      app.ports.outgoingMessage.subscribe((msg) => {
        let ws = new WebSocket("ws://localhost:3001");
        ws.onopen = () => ws.send(JSON.stringify(msg));
        ws.onmessage = (msg) => app.ports.incomingMessage.send(msg.data);
      });
    </script>
  </body>
</html>
